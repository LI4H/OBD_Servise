using System;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Threading;

namespace WpfAppTest
{
    public partial class InfoWindow : Window
    {
        private string fullText;
        private int currentIndex;
        private DispatcherTimer textTimer;

        public InfoWindow()
        {
            InitializeComponent();
            fullText = "Это приложение предназначено для мониторинга технического состояния автомобиля в реальном времени с использованием OBD (On-Board Diagnostics) — системы диагностики автомобиля. Оно позволяет отслеживать как динамические, так и статические параметры автомобиля, такие как температура двигателя, обороты, давление масла и другие важные показатели. Также приложение предоставляет информацию об ошибках системы автомобиля и возможность их сброса.\n\n" +
                       "Основные функции:\n\n" +
                       "Динамическое отображение показателей: приложение отображает данные в реальном времени, включая скорость, обороты двигателя, температуру и другие параметры.\n" +
                       "Ошибки автомобиля: приложение выводит ошибки OBD в удобном формате и позволяет их сбрасывать.\n" +
                       "Графики: для динамических показателей приложение строит графики, отображающие изменения параметров во времени.\n" +
                       "Многоязычная поддержка: приложение поддерживает несколько языков для удобства пользователей по всему миру.\n" +
                       "Модуль диагностики: пользователи могут просматривать и анализировать ошибки автомобиля, а также сбрасывать их при необходимости.\n\n" +
                       "Как подключиться к автомобилю:\n\n" +
                       "Для подключения приложения к автомобилю необходимо использовать OBD-II адаптер. Этот адаптер подключается к диагностическому разъему автомобиля (обычно расположенного под рулевой колонкой) и соединяется с мобильным устройством через Bluetooth или Wi-Fi. Вот шаги для подключения:\n" +
                       "1. Подключите OBD-II адаптер к диагностическому разъему автомобиля.\n" +
                       "2. Включите зажигание автомобиля, но не запускайте двигатель.\n" +
                       "3. Откройте приложение на вашем устройстве.\n" +
                       "4. В настройках приложения выберите тип подключения (Bluetooth или Wi-Fi) и подключитесь к OBD-II адаптеру.\n" +
                       "Приложение начнёт получать данные с автомобиля, и вы сможете наблюдать за текущими показателями в реальном времени.";

            currentIndex = 0;

            //для постепенного отображения текста
            textTimer = new DispatcherTimer();
            textTimer.Interval = TimeSpan.FromMilliseconds(0.1); // скорость печати
            textTimer.Tick += TextTimer_Tick;
            textTimer.Start();
        }

        private void TextTimer_Tick(object sender, EventArgs e)
        {
            if (currentIndex < fullText.Length)
            {
                // добавляем новый символ в TextBlock
                InfoTextBlock.Text += fullText[currentIndex];
                currentIndex++;
            }
            else
            {
                // останавливаем таймер
                textTimer.Stop();
            }
        }
    }
}
